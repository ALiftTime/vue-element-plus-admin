import{d as e,B as s,H as o,o as a,c as l,e as t,z as n,n as r,a as i,t as d,g as c,w as f,k as u,Z as m,P as p,Y as g,a0 as b,ar as v,_ as y,cn as h,b1 as x,R as k,r as C,A as $,aF as _,aX as R,W as w,h as A,bP as H,a1 as I,a7 as j,bV as F,v as M,x as E,X as z,y as L,O as T,an as B,M as D}from"./index.23cec3b4.js";import{u as O,b as q,E as S}from"./el-overlay.8698a33d.js";import{d as P,a as V,b as X,c as K,u as N}from"./use-dialog2.d31cdd02.js";import{u as U}from"./index2.5ceead26.js";import{F as W,e as Y}from"./el-popper.314ed8a7.js";import{c as Z}from"./refs2.7ce38a4f.js";import{u as G}from"./el-button.e5ca07de.js";const J=Symbol("dialogInjectionKey"),Q=["aria-label"],ee=["id"];var se=y(e({name:"ElDialogContent",props:P,emits:V,setup(e){const y=e,{t:x}=U(),{Close:k}=h,{dialogRef:C,headerRef:$,bodyId:_,ns:R,style:w}=s(J),{focusTrapRef:A}=s(W),H=Z(A,C),I=o((()=>y.draggable));return O(C,$,I),(e,s)=>(a(),l("div",{ref:i(H),class:r([i(R).b(),i(R).is("fullscreen",e.fullscreen),i(R).is("draggable",i(I)),{[i(R).m("center")]:e.center},e.customClass]),style:b(i(w)),tabindex:"-1",onClick:s[1]||(s[1]=v((()=>{}),["stop"]))},[t("header",{ref_key:"headerRef",ref:$,class:r(i(R).e("header"))},[n(e.$slots,"header",{},(()=>[t("span",{role:"heading",class:r(i(R).e("title"))},d(e.title),3)])),e.showClose?(a(),l("button",{key:0,"aria-label":i(x)("el.dialog.close"),class:r(i(R).e("headerbtn")),type:"button",onClick:s[0]||(s[0]=s=>e.$emit("close"))},[c(i(p),{class:r(i(R).e("close"))},{default:f((()=>[(a(),u(m(e.closeIcon||i(k))))])),_:1},8,["class"])],10,Q)):g("v-if",!0)],2),t("div",{id:i(_),class:r(i(R).e("body"))},[n(e.$slots,"default")],10,ee),e.$slots.footer?(a(),l("footer",{key:0,class:r(i(R).e("footer"))},[n(e.$slots,"footer")],2)):g("v-if",!0)],6))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const oe=["aria-label","aria-labelledby","aria-describedby"];const ae=I(y(e({name:"ElDialog",props:X,emits:K,setup(e,{expose:s}){const l=e,d=x();G({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},o((()=>!!d.title)));const m=k("dialog"),p=C(),v=C(),y=C(),{visible:h,titleId:I,bodyId:j,style:F,rendered:M,zIndex:E,afterEnter:z,afterLeave:L,beforeLeave:T,handleClose:B,onModalClick:D,onOpenAutoFocus:O,onCloseAutoFocus:P,onCloseRequested:V}=N(l,p);$(J,{dialogRef:p,headerRef:v,bodyId:j,ns:m,rendered:M,style:F});const X=q(D),K=o((()=>l.draggable&&!l.fullscreen));return s({visible:h,dialogContentRef:y}),(e,s)=>(a(),u(H,{to:"body",disabled:!e.appendToBody},[c(A,{name:"dialog-fade",onAfterEnter:i(z),onAfterLeave:i(L),onBeforeLeave:i(T),persisted:""},{default:f((()=>[_(c(i(S),{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":i(E)},{default:f((()=>[t("div",{role:"dialog","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:i(I),"aria-describedby":i(j),class:r(`${i(m).namespace.value}-overlay-dialog`),onClick:s[0]||(s[0]=(...e)=>i(X).onClick&&i(X).onClick(...e)),onMousedown:s[1]||(s[1]=(...e)=>i(X).onMousedown&&i(X).onMousedown(...e)),onMouseup:s[2]||(s[2]=(...e)=>i(X).onMouseup&&i(X).onMouseup(...e))},[c(i(Y),{loop:"",trapped:i(h),"focus-start-el":"container",onFocusAfterTrapped:i(O),onFocusAfterReleased:i(P),onReleaseRequested:i(V)},{default:f((()=>[i(M)?(a(),u(se,{key:0,ref_key:"dialogContentRef",ref:y,"custom-class":e.customClass,center:e.center,"close-icon":e.closeIcon,draggable:i(K),fullscreen:e.fullscreen,"show-close":e.showClose,style:b(i(F)),title:e.title,onClose:i(B)},w({header:f((()=>[e.$slots.title?n(e.$slots,"title",{key:1}):n(e.$slots,"header",{key:0,close:i(B),titleId:i(I),titleClass:i(m).e("title")})])),default:f((()=>[n(e.$slots,"default")])),_:2},[e.$slots.footer?{name:"footer",fn:f((()=>[n(e.$slots,"footer")]))}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):g("v-if",!0)])),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,oe)])),_:3},8,["mask","overlay-class","z-index"]),[[R,i(h)]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]));const le={class:"flex justify-between"},te=e({__name:"Dialog",props:{modelValue:j.bool.def(!1),title:j.string.def("Dialog"),fullscreen:j.bool.def(!0),maxHeight:j.oneOfType([String,Number]).def("500px")},setup(e){const s=e,l=x(),r=o((()=>{const e=["fullscreen","title","maxHeight"],o={...B(),...s};for(const s in o)-1!==e.indexOf(s)&&delete o[s];return o})),m=C(!1),p=()=>{m.value=!i(m)},v=C(F(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight);M((()=>m.value),(async e=>{if(await D(),e){const e=document.documentElement.offsetHeight;v.value=e-55-60-(l.footer?63:0)+"px"}else v.value=F(s.maxHeight)?`${s.maxHeight}px`:s.maxHeight}),{immediate:!0});const y=o((()=>({height:i(v)})));return(s,o)=>{const v=E("Icon");return a(),u(i(ae),z(i(r),{fullscreen:m.value,"destroy-on-close":"","lock-scroll":"",draggable:"","close-on-click-modal":!1}),w({header:f((()=>[t("div",le,[n(s.$slots,"title",{},(()=>[L(d(e.title),1)])),e.fullscreen?(a(),u(v,{key:0,class:"mr-18px cursor-pointer is-hover mt-2px",icon:m.value?"zmdi:fullscreen-exit":"zmdi:fullscreen",color:"var(--el-color-info)",onClick:p},null,8,["icon"])):g("v-if",!0)])])),default:f((()=>[c(i(T),{style:b(i(y))},{default:f((()=>[n(s.$slots,"default")])),_:3},8,["style"])])),_:2},[i(l).footer?{name:"footer",fn:f((()=>[n(s.$slots,"footer")]))}:void 0]),1040,["fullscreen"])}}});export{te as _};
